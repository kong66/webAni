html{
  font-size: 100px;
  font-family: "Pacifico",sans-serif;
  background: silver;
}
.switch{
  font-size: 1rem;
  display: block;
  position: relative;
  margin:2rem auto;
  width:3rem;
  height: 1.5rem;
  border-radius:1rem;
  background:
    linear-gradient(to bottom,hsla(0, 0%, 40%, 1),hsla(0, 0%, 95%, 1));
  box-shadow: 0 -2px white inset,0 2px gray inset;
}
.switch:before,.switch:after,.switch>input::before,.switch>input::after{
  content:"";
}
.switch:before,
.switch:after,
.switch>input,
.switch>input::before,
.switch>input::after,
.center{
  display: block;
  position: absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
}
.switch:before{
  width:2.4rem;
  height: 1rem;
  border-radius: .5rem;
  background: linear-gradient(to bottom,#464343 20%,#f4eeee 100%);
}
.switch:after{
  width:2.36rem;
  height:.96rem;
  border-radius: .49rem;
  box-shadow: 0 3px 20px hsla(0,0%,0%,1) inset;
}
.switch>input{
  /*display: none;*/
  width:0;
  height:0;
  left:.7rem;
  z-index: 2;
  transition: left .5s;
}
.switch>input:checked{
  left:2.2rem;
  transition: left .5s;
}
.switch>input::before{
  width:1.1rem;
  height: 1.1rem;
  border-radius: 50%;
  background:linear-gradient(to top, #9e9e9e 20%, #f4f4f4);
  box-shadow: 0 2px 10px black;
}
.switch>input::after{
  width:.9rem;
  height: .9rem;
  border-radius: 50%;
  background: #d5d4d4;
}

.center{
  width:2.36rem;
  height:.96rem;
  border-radius: .48rem;
  overflow: hidden;
  box-shadow:
    0 1px 30px hsla(0,0%,0%,1) inset,
    0 2px 10px 2px hsla(0,0%,0%,1) inset;
}
.center:before,.center:after{
  box-sizing: border-box;
  display: block;
  position: absolute;
  top:50%;
  transform:translateY(-50%);
  width:calc(100% - .4rem);
  height:100%;
  line-height: .9rem;
  font-size: .3rem;
  font-weight: bold;
}
.center:before{
    content:"on";
    right:calc(100% - .4rem);
    background: rgba(226,96,17,1);
    border-top-left-radius: .45rem;
    border-bottom-left-radius: .45rem;
    padding-left: 25%;
    animation: green-off 1s forwards;
}
.center:after{
    content:"off";
    left:.4rem;
    background: gray;
    text-align: right;
    border-top-right-radius: .45rem;
    border-bottom-right-radius: .45rem;
    padding-right: 25%;
    animation: red-on 1s  both;
}
.switch>input:checked~.center:before{
  animation: green-on 1s  both;
}
.switch>input:checked~.center:after{
  animation: red-off 1s  both;
}
@keyframes red-on {
  0%{
    left:calc(100% - .4rem);
    color:rgba(255,0,0,.3);
    text-shadow: none;
  }
  50%{
    left:.4rem;
    color:rgba(255,0,0,.3);
    text-shadow: none;
  }
  100%{
    left:.4rem;
    color:rgba(255,0,0,.8);
    text-shadow:
      0px 0px 1px hsla(0,0%,50%,.3),
      0 0 15px rgba(255,0,0,.8),
      0 0 20px rgba(255,0,0,1);
  }
}
@keyframes red-off {
  0%{
    left:.4rem;
    color:rgba(255,0,0,1);
    text-shadow: text-shadow:
      0px 0px 1px hsla(0,0%,50%,.3),
      0 0 15px rgba(255,0,0,.8),
      0 0 20px rgba(255,0,0,1);
  }
  50%{
    left:calc(100% - .4rem);
  }
  100%{
    left:calc(100% - .4rem);
    color:rgba(255,0,0,.5);
    text-shadow: none;
  }

}
@keyframes green-on {
  0%{
    right:calc(100% - .4rem);
    color:rgba(0,255,0,.5);
    text-shadow: none;
  }
  50%{
    right:.4rem;
    color:rgba(0,255,0,.5);
    text-shadow: none;
  }
  100%{
    right:.4rem;
    color:rgba(0,255,0,1);
    text-shadow:
      0px 0px 2px hsla(0,0%,50%,.3),
      0 0 15px rgba(0,255,0,.8),
      0 0 20px rgba(0,255,0,1);
  }
}
@keyframes green-off {
  0%{
    right:.4rem;
    color:rgba(0,255,0,1);
    text-shadow:
      0px 0px 2px hsla(0,0%,50%,.3),
      0 0 15px rgba(0,255,0,.8),
      0 0 20px rgba(0,255,0,1);
  }
  100%{
    right:calc(100% - .4rem);
    color:rgba(0,255,0,.5);
    text-shadow: none;
  }
}
